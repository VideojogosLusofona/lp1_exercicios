## Pergunta

31 - Considera o seguinte código:

```cs
public abstract class GameObject
{
    public float X { get; protected set; }
    public float Y { get; protected set; }
    public abstract int Priority();
    public virtual bool IsActive() { return true; }
}
```

```cs
public class Trap : GameObject
{
    public override int Priority() { return int.MaxValue; }
    public void DisableTrap() { Console.WriteLine("Trap is now disabled."); }
}
```

```cs
public interface ITaggable
{
    string Tag { get; set; }
}
```

Responde às seguintes questões (neste exercício aceitam-se soluções separadas
a cada uma destas questões):

1. Apresenta o código da classe `PowerUp` que estende `GameObject` e implementa
   a interface `ITaggable`. A prioridade deve ser igual ao comprimento da
   *tag*. Deves sobrepor o método `IsActive()` de modo a retorne `false` se a
   *tag* for `null` ou com comprimento igual a zero, e `true` caso contrário.
2. Sobrepõe o método `ToString()` na classe `PowerUp` de modo a que devolva uma
   *string* que inclua `X` , `Y` e `Tag`. Os números reais devem aparecer com 2
   dígitos significativos.
3. Se `armorPack` for uma instância da classe `PowerUp`, qual a instrução que
   define o valor da sua *tag* como "Armor+75"?
4. Indica, justificando, quais das seguintes instruções são válidas e quais são
   inválidas. As instruções são independentes umas das outras, e naquelas que
   não implicam criação de objetos presume-se que o(s) objeto(s) em questão já
   foram instanciados. Assume que todas as instruções ocorrem fora das classes
   discutidas até ao momento.

```cs
// Instrução 1
PowerUp pu = new PowerUp();
```

```cs
// Instrução 2
GameObject go = new GameObject();
```

```cs
// Instrução 3
Trap t = new Trap();
```

```cs
// Instrução 4
ITaggable it = new ITaggable();
```

```cs
// Instrução 5
go.DisableTrap(); // go é uma variável do tipo GameObject
```

```cs
// Instrução 6
PowerUp armorPack = new GameObject();
```

```cs
// Instrução 7
int p = gobj.DisableTrap; // gobj é do tipo Trap
```

```cs
// Instrução 8
Console.WriteLine($"{trap.Tag}"); // trap é uma instância de Trap
```

```cs
// Instrução 9
GameObject go = new Trap();
```

```cs
// Instrução 10
GameObject go = new PowerUp();
```

```cs
// Instrução 11
Console.WriteLine($"{pup.Priority()}"); // pup é uma instância de PowerUp
```

## Soluções

### Solução 1
Questão 1
```CSharp
class PowerUp : GameObject, ITaggable
{

    public string Tag { get; set; }

    public override int Priority()
    {
        return Tag.Length;
    }

    public override bool IsActive()
    {
        if (Priority() == null) return false;
        return Priority() > 0;
    }
}
```

Questão 2
```CSharp
public override string ToString()
{
    return $"X Position: {X:f2} Y Position: {Y:f2} Name: {Tag}";
}
```

Questão 3

armorPack.Tag = "Armor+75";

Questão 4
  1. Válida - Apenas estamos a instanciar um objeto do tipo `PowerUp`, como esta
classe não requer nenhum argumento obrigatório no construtor e não foi declarada com
modificadores de herança, pode ser instanciada da forma apresentada.
  2. Inválida - É impossível instanciar um objeto de classe declarada com modificador de
herança `abstract`.
  3. Válida - Apenas estamos a instanciar um objeto do tipo `Trap`, como esta
classe não requer nenhum argumento obrigatório no construtor e não foi declarada com
modificadores de herança, pode ser instanciada da forma apresentada.
  4. Inválida - Interfaces não podem ser instanciadas, estas servem unicamente para
serem implementadas, ou estendidas por outras interfaces.
  5. Inválida - O método `DisableTrap()` pertence apenas à extensão `Trap` de `GameObject`
não sendo possível chamar o método de uma variável desse tipo, no entanto poderia-se usar
a *keyword* `as` para usar esse *game object* como se fosse do tipo `Trap`.
  6. Inválida - É impossível instanciar um objeto de classe declarada com modificador de
herança `abstract`. De modo que é impossível usar o construtor `GameObject()`.
  7. Inválida - É impossível converter um tipo void para um tipo inteiro.
  8. Inválida - A instância `trap` sendo do tipo `Trap` não possui qualquer propriedade
`Tag`,por sua vez `Trap` não é um `ITaggable`.
  9. Válida - `Trap` é uma extensão de `GameObject` logo pode ser instanciado
com o construtor de `Trap`.
  10. Válida - `PowerUp` é uma extensão de `GameObject` logo pode ser instanciado
com o construtor de `PowerUp`.
  11. Válido - Escreve na consola o valor da *tag* da instância de PowerUp.